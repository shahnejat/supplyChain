(this["webpackJsonpsim-app"]=this["webpackJsonpsim-app"]||[]).push([[0],{24:function(e,t,a){e.exports=a(45)},29:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),u=a.n(s),l=(a(29),a(5)),c=a(6),i=a(9),o=a(8),p=a(46),m=a(47),d=a(21),E=a(7),I=a.n(E),k=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("h1",{style:{textAlign:"center",color:"#3b5998"}},"Supply Chain Game")}}]),a}(r.a.PureComponent),O=(a(31),a(32),function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"vertical-menu"})}}]),a}(r.a.PureComponent)),_=(a(33),a(23)),C=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"week-bar"},r.a.createElement("span",{className:"span",md:"auto"},"Current Week: ","".concat(this.props.currentWeek)," "),r.a.createElement(_.a,{className:"pbar",now:this.props.currentWeek}))}}]),a}(r.a.PureComponent),S=a(10),h=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleInput=function(t){e.props.handleInput({action:e.props.title,name:t.target.name,value:t.target.value})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.supplier,a=e.title,n=e.orders,s=t.enabledOrders;if(!t.info)return r.a.createElement("p",{className:"title"}," Please choose a supplier by clicking a node in the graph. ");var u=n.find((function(e){return e.supplierId===t.info.id}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"title"}," ",a," (",t.info.label,") "),r.a.createElement(S.a,null,r.a.createElement(S.a.Row,null,r.a.createElement(S.a.Group,{as:d.a},r.a.createElement(S.a.Control,{className:"itemA",type:"number",min:"0",name:"A",value:u.a||"",placeholder:"A",disabled:!s.a,onChange:this.handleInput})),r.a.createElement(S.a.Group,{as:d.a},r.a.createElement(S.a.Control,{className:"itemB",type:"number",min:"0",name:"B",value:u.b||"",placeholder:"B",disabled:!s.b,onChange:this.handleInput})),r.a.createElement(S.a.Group,{as:d.a},r.a.createElement(S.a.Control,{className:"itemC",type:"number",min:"0",name:"C",value:u.c||"",placeholder:"C",disabled:!s.c,onChange:this.handleInput})))))}}]),a}(r.a.PureComponent),T=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleInput=function(t){e.props.handleInput({action:e.props.title,name:t.target.name,value:t.target.value})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.simInput,n="Demands"===t?a.demands:null;return n="Sells"===t?a.sells:n,r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"title"}," ",t," "),r.a.createElement(S.a,null,r.a.createElement(S.a.Row,null,r.a.createElement(S.a.Group,{as:d.a},r.a.createElement(S.a.Control,{className:"itemA",type:"number",min:"0",name:"A",value:n.a||"",placeholder:"A",onChange:this.handleInput})),r.a.createElement(S.a.Group,{as:d.a},r.a.createElement(S.a.Control,{className:"itemB",type:"number",min:"0",name:"B",value:n.b||"",placeholder:"B",onChange:this.handleInput})),r.a.createElement(S.a.Group,{as:d.a},r.a.createElement(S.a.Control,{className:"itemC",type:"number",min:"0",name:"C",value:n.c||"",placeholder:"C",onChange:this.handleInput,disabled:!0})))))}}]),a}(r.a.PureComponent),w=a(14),b=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.simInput,a=e.handleNextButton,n=e.supplier,s=e.handleInput;return r.a.createElement(p.a,null,r.a.createElement(T,{title:"Demands",simInput:t,handleInput:s}),r.a.createElement(T,{title:"Sells",simInput:t,handleInput:s}),r.a.createElement(h,{supplier:n,title:"Orders",orders:t.orders,handleInput:s}),r.a.createElement(m.a,null,r.a.createElement(d.a,null,r.a.createElement(w.a,{disabled:!0,variant:"outline-primary",block:!0},"Previous")),r.a.createElement(d.a,null,r.a.createElement(w.a,{disabled:!0,variant:"outline-primary",block:!0},"Reset")),r.a.createElement(d.a,null,r.a.createElement(w.a,{onClick:a,variant:"outline-primary",block:!0},"Next"))))}}]),a}(r.a.PureComponent),N=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("p",{className:"title"}," ",this.props.title," "),r.a.createElement(m.a,{className:"itemA"},r.a.createElement(d.a,null,"A:"),r.a.createElement(d.a,{md:"auto"},this.props.weekCount.stockA)),r.a.createElement(m.a,{className:"itemB"},r.a.createElement(d.a,null,"B:"),r.a.createElement(d.a,{md:"auto"},this.props.weekCount.stockB)),r.a.createElement(m.a,{className:"itemC"},r.a.createElement(d.a,null,"C:"),r.a.createElement(d.a,{md:"auto"},this.props.weekCount.stockC)))}}]),a}(r.a.PureComponent),f=a(22),D=a.n(f),P=(a(44),function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.setUpListeners()},e.setUpListeners=function(){e.cy.on("click","node",(function(t){"US"!==t.target._private.data.id&&e.props.handleGraphClick(t)}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.week.simOutput,a=t.weekStart,n=t.weekEnd,s=t.results;return r.a.createElement(p.a,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{md:"auto"},r.a.createElement(D.a,{cy:function(t){e.cy=t},elements:[{data:{id:"KW",label:"Ke-Wan Thum Inc."},position:{x:0,y:0},aaa:{x:0,y:0}},{data:{id:"WWR",label:"W.W.R. Industries"},position:{x:100,y:0}},{data:{id:"ADD",label:"A.A.D."},position:{x:100,y:0}},{data:{id:"IP",label:"I.P."},position:{x:100,y:0}},{data:{id:"DP",label:"D.P."},position:{x:0,y:0}},{data:{id:"US",label:"US Inc."},position:{x:0,y:0}},{data:{source:"KW",target:"US",label:" "}},{data:{source:"WWR",target:"US",label:" "}},{data:{source:"ADD",target:"US",label:" "}},{data:{source:"IP",target:"US",label:" "}},{data:{source:"DP",target:"US",label:" "}}],layout:{name:"concentric",minNodeSpacing:60,edgeElasticity:function(e){return 0},animate:!0,fit:!0},style:{width:"300px",height:"300px"},stylesheet:[{selector:"node",style:{"background-color":"#3b5998",label:"data(label)"}},{selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}]})),r.a.createElement(d.a,{md:"auto"},r.a.createElement("p",{className:"title"},"Week Results"),r.a.createElement(m.a,{className:"output"},r.a.createElement(d.a,null,"Income:"),r.a.createElement(d.a,{md:"auto"},s.income,"$")),r.a.createElement(m.a,{className:"output"},r.a.createElement(d.a,null,"Storage cost:"),r.a.createElement(d.a,{md:"auto"},s.storageCost,"$")),r.a.createElement(m.a,{className:"output"},r.a.createElement(d.a,null,"Total order cost:"),r.a.createElement(d.a,{md:"auto"},s.ordersCost,"$")),r.a.createElement(m.a,{className:"output"},r.a.createElement(d.a,null,"Profit:"),r.a.createElement(d.a,{md:"auto"},s.profit,"$")),r.a.createElement(m.a,{className:"output"},r.a.createElement(d.a,null,"Accumulated profit:"),r.a.createElement(d.a,{md:"auto"},s.accumulatedProfit,"$"))),r.a.createElement(N,{title:"Week Start",weekCount:a}),r.a.createElement(N,{title:"Week End",weekCount:n})))}}]),a}(r.a.PureComponent)),v=a(12),R={KW:{supplierId:"KW",DISCOUNT_UNIT_THRESHOLD:100,TYPICAL_SHIPPING_COST:80,FREE_SHIPPING_THRESHOLD:1e3,UNIT_PRICE_A_ABOVE_DISCOUNT_THRESHOLD:4,UNIT_PRICE_A_BELOW_DISCOUNT_THRESHOLD:5,UNIT_PRICE_B_ABOVE_DISCOUNT_THRESHOLD:2.5,UNIT_PRICE_B_BELOW_DISCOUNT_THRESHOLD:3,UNIT_PRICE_C_ABOVE_DISCOUNT_THRESHOLD:1,UNIT_PRICE_C_BELOW_DISCOUNT_THRESHOLD:1,DELAY_IN_WEEKS:1,RECEPTION_COST:80},WWR:{supplierId:"WWR",DISCOUNT_UNIT_THRESHOLD:300,TYPICAL_SHIPPING_COST:200,FREE_SHIPPING_THRESHOLD:3e3,UNIT_PRICE_A_ABOVE_DISCOUNT_THRESHOLD:3,UNIT_PRICE_B_ABOVE_DISCOUNT_THRESHOLD:2,UNIT_PRICE_C_ABOVE_DISCOUNT_THRESHOLD:.5,DELAY_IN_WEEKS:4,RECEPTION_COST:80},ADD:{supplierId:"ADD",UNIT_PRICE_A_ABOVE_DISCOUNT_THRESHOLD:7,DELAY_IN_WEEKS:0,RECEPTION_COST:80},IP:{supplierId:"IP",UNIT_PRICE_B_ABOVE_DISCOUNT_THRESHOLD:6,DELAY_IN_WEEKS:0,RECEPTION_COST:80},DP:{supplierId:"DP",UNIT_PRICE_C_ABOVE_DISCOUNT_THRESHOLD:2,DELAY_IN_WEEKS:0,RECEPTION_COST:80}},W=function(){function e(){Object(l.a)(this,e),this.weeks=[]}return Object(c.a)(e,[{key:"createWeek",value:function(){return{simInput:{demands:{a:0,b:0,c:0},sells:{a:0,b:0,c:0},orders:[{supplierId:"KW",a:0,b:0,c:0},{supplierId:"WWR",a:0,b:0,c:0},{supplierId:"ADD",a:0,b:0,c:0},{supplierId:"IP",a:0,b:0,c:0},{supplierId:"DP",a:0,b:0,c:0}]},simOutput:{weekStart:{stockA:0,stockB:0,stockC:0},weekEnd:{stockA:0,stockB:0,stockC:0},results:{income:0,storageCost:0,ordersCost:0,profit:0,accumulatedProfit:0}}}}},{key:"updateIncome",value:function(e,t,a){var n=15*t+12*a;return I()(e,{week:{simOutput:{results:{income:{$set:n}}}}})}},{key:"updateWeekendStock",value:function(e,t,a){return I()(e,{week:{simOutput:{weekEnd:{$set:{stockA:t.stockA-a.a,stockB:t.stockB-a.b,stockC:t.stockC-a.c}}}}})}},{key:"updateStorageCost",value:function(e,t,a){var n=((t.stockA+a.stockA)/2*.075+(t.stockB+a.stockB)/2*.06+(t.stockC+a.stockC)/2*.01).toFixed(2);return I()(e,{week:{simOutput:{results:{storageCost:{$set:n}}}}})}},{key:"updateProfit",value:function(e){var t=e.week.simOutput.results.income-e.week.simOutput.results.storageCost-e.week.simOutput.results.ordersCost;return I()(e,{week:{simOutput:{results:{profit:{$set:t}}}}})}},{key:"currentWeekIndex",value:function(){return this.weeks.length-1+1-1}},{key:"updateAccumulatedProfit",value:function(e){var t,a=this.currentWeekIndex();return console.log(a),t=a>=0?e.week.simOutput.results.profit+this.weeks[a].simOutput.results.accumulatedProfit:e.week.simOutput.results.profit,I()(e,{week:{simOutput:{results:{accumulatedProfit:{$set:t}}}}})}},{key:"updateProfitSubTree",value:function(e){return this.updateAccumulatedProfit(this.updateProfit(e))}},{key:"updateSells",value:function(e,t){var a=e.week.simInput.sells,n="A"===t.name?a.b:a.a,r=isNaN(parseInt(t.value))?0:parseInt(t.value),s=I()(e,{week:{simInput:{sells:Object(v.a)({},t.name.toLowerCase(),{$set:r})}}});s=I()(s,{week:{simInput:{sells:{c:{$set:r+n}}}}});var u=(s="A"===t.name?this.updateIncome(s,r,n):this.updateIncome(s,n,r)).week.simOutput.weekStart;return s=this.updateWeekendStock(s,u,s.week.simInput.sells),s=this.updateStorageCost(s,s.week.simOutput.weekStart,s.week.simOutput.weekEnd),s=this.updateProfitSubTree(s)}},{key:"updateDemands",value:function(e,t){var a=isNaN(parseInt(t.value))?0:parseInt(t.value);return I()(e,{week:{simInput:{demands:Object(v.a)({},t.name.toLowerCase(),{$set:a})}}})}},{key:"updateOrders",value:function(e,t){var a,n,r,s,u,l=e.supplier.info.id,c=e.week.simInput.orders.findIndex((function(e){return e.supplierId===l})),i=isNaN(parseInt(t.value))?0:parseInt(t.value),o=I()(e,{week:{simInput:{orders:Object(v.a)({},c,Object(v.a)({},t.name.toLowerCase(),{$set:i}))}}}),p=0,m=0,d=0,E=0,k=0,O=0,_=0;u=(o.week.simInput.orders[0].a>R.KW.DISCOUNT_UNIT_THRESHOLD?o.week.simInput.orders[0].a*R.KW.UNIT_PRICE_A_ABOVE_DISCOUNT_THRESHOLD:o.week.simInput.orders[0].a*R.KW.UNIT_PRICE_A_BELOW_DISCOUNT_THRESHOLD)+(o.week.simInput.orders[0].b>R.KW.DISCOUNT_UNIT_THRESHOLD?o.week.simInput.orders[0].b*R.KW.UNIT_PRICE_B_ABOVE_DISCOUNT_THRESHOLD:o.week.simInput.orders[0].b*R.KW.UNIT_PRICE_B_BELOW_DISCOUNT_THRESHOLD)+o.week.simInput.orders[0].c*R.KW.UNIT_PRICE_C_BELOW_DISCOUNT_THRESHOLD,p=o.week.simInput.orders[0].a+o.week.simInput.orders[0].c>0?u>R.KW.FREE_SHIPPING_THRESHOLD?0:R.KW.TYPICAL_SHIPPING_COST:0,s=o.week.simInput.orders[1].a*R.WWR.UNIT_PRICE_A_ABOVE_DISCOUNT_THRESHOLD+o.week.simInput.orders[1].b*R.WWR.UNIT_PRICE_B_ABOVE_DISCOUNT_THRESHOLD+o.week.simInput.orders[1].c*R.WWR.UNIT_PRICE_C_ABOVE_DISCOUNT_THRESHOLD,m=o.week.simInput.orders[1].a+o.week.simInput.orders[1].c>0?s>R.WWR.FREE_SHIPPING_THRESHOLD?0:R.WWR.TYPICAL_SHIPPING_COST:0,a=o.week.simInput.orders[2].a*R.ADD.UNIT_PRICE_A_ABOVE_DISCOUNT_THRESHOLD,n=o.week.simInput.orders[3].b*R.IP.UNIT_PRICE_B_ABOVE_DISCOUNT_THRESHOLD,r=o.week.simInput.orders[4].c*R.DP.UNIT_PRICE_C_ABOVE_DISCOUNT_THRESHOLD,o.week.simInput.orders[0].a+o.week.simInput.orders[0].c>0&&(d=R.KW.RECEPTION_COST),o.week.simInput.orders[1].a+o.week.simInput.orders[1].c>0&&(E=R.WWR.RECEPTION_COST),o.week.simInput.orders[2].a>0&&(k=R.ADD.RECEPTION_COST),o.week.simInput.orders[3].b>0&&(O=R.IP.RECEPTION_COST),o.week.simInput.orders[4].c>0&&(_=R.DP.RECEPTION_COST);var C=u+s+p+m+a+n+r+d+E+k+O+_;return o=I()(o,{week:{simOutput:{results:{ordersCost:{$set:C}}}}}),o=this.updateProfitSubTree(o)}},{key:"simulate",value:function(e,t){return"Sells"===t.action?this.updateSells(e,t):"Demands"===t.action?this.updateDemands(e,t):"Orders"===t.action?this.updateOrders(e,t):{}}},{key:"supplierSelected",value:function(e,t){var a=I()(e,{supplier:{info:{$set:t}}});return a="ADD"===t.id?I()(a,{supplier:{enabledOrders:{$set:{a:!0,b:!1,c:!1}}}}):"IP"===t.id?I()(a,{supplier:{enabledOrders:{$set:{a:!1,b:!0,c:!1}}}}):"DP"===t.id?I()(a,{supplier:{enabledOrders:{$set:{a:!1,b:!1,c:!0}}}}):I()(a,{supplier:{enabledOrders:{$set:{a:!0,b:!0,c:!0}}}})}},{key:"initWeek",value:function(){return this.createWeek()}},{key:"updateWeekstartSupplier",value:function(e,t,a,n){var r=this.currentWeekIndex()-t;if(r>=0){var s=this.weeks[r].simInput.orders.find((function(e){return e.supplierId===a})),u=!0===n?this.weeks[r].simOutput.weekEnd:{stockA:0,stockB:0,stockC:0},l=u.stockA,c=u.stockB,i=u.stockC;return I()(e,{week:{simOutput:{weekStart:{$set:{stockA:e.week.simOutput.weekStart.stockA+s.a+l,stockB:e.week.simOutput.weekStart.stockB+s.b+c,stockC:e.week.simOutput.weekStart.stockC+s.c+i}}}}})}return e}},{key:"updateWeekstartStock",value:function(e){var t=this.updateWeekstartSupplier({week:e},0,"ADD",!0).week;return t=this.updateWeekstartSupplier({week:t},0,"IP",!1).week,t=this.updateWeekstartSupplier({week:t},0,"DP",!1).week,t=this.updateWeekstartSupplier({week:t},4,"WWR",!1).week,t=this.updateWeekstartSupplier({week:t},1,"KW",!1).week}},{key:"advanceSimulation",value:function(e){this.weeks.push(e);var t=this.createWeek();return t=this.updateWeekstartStock(t),t=this.updateWeekendStock({week:t},t.simOutput.weekStart,t.simInput.sells).week,t=this.updateStorageCost({week:t},t.simOutput.weekStart,t.simOutput.weekEnd).week,t=this.updateProfitSubTree({week:t}).week,console.log(this.weeks),t}}]),e}(),A=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleNextButton=function(e){var t=n.core.advanceSimulation(n.state.week),a=I()(n.state,{currentWeek:{$set:n.state.currentWeek+1}});a=I()(a,{week:{$set:t}}),n.setState(a)},n.handleInput=function(e){n.setState(n.core.simulate(n.state,e))},n.handleGraphClick=function(e){n.setState(n.core.supplierSelected(n.state,e.target._private.data))},n.core=new W,n.state={currentWeek:0,supplier:{enabledOrders:{a:!1,b:!1,c:!1}},week:n.core.initWeek()},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(p.a,null,r.a.createElement(C,{currentWeek:this.state.currentWeek}),r.a.createElement(m.a,null,r.a.createElement(d.a,{md:"auto"}," ",r.a.createElement(O,null)," "),r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(P,{week:this.state.week,handleGraphClick:this.handleGraphClick})),r.a.createElement(m.a,null,r.a.createElement(b,{simInput:this.state.week.simInput,handleNextButton:this.handleNextButton,supplier:this.state.supplier,handleInput:this.handleInput}))))))}}]),a}(r.a.PureComponent);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.875a56b2.chunk.js.map